2025-03-27T02:14:42.151Z  INFO 1374542 --- [MatchFlexdb] [main] c.matchflex.SmartBandApplicationTests    : Starting SmartBandApplicationTests using Java 17.0.13 with PID 1374542 (started by mad-king in /home/mad-king/projects/FilRouge/MatchFlex-Backend-main)
2025-03-27T02:14:42.155Z  INFO 1374542 --- [MatchFlexdb] [main] c.matchflex.SmartBandApplicationTests    : The following 1 profile is active: "dev"
2025-03-27T02:14:42.180Z DEBUG 1374542 --- [MatchFlexdb] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3c8bdd5b
2025-03-27T02:14:42.829Z  INFO 1374542 --- [MatchFlexdb] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-27T02:14:42.963Z  INFO 1374542 --- [MatchFlexdb] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 126 ms. Found 8 JPA repository interfaces.
2025-03-27T02:14:43.080Z  INFO 1374542 --- [MatchFlexdb] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-03-27T02:14:43.088Z  INFO 1374542 --- [MatchFlexdb] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-03-27T02:14:43.773Z  INFO 1374542 --- [MatchFlexdb] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-27T02:14:43.798Z  INFO 1374542 --- [MatchFlexdb] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-27T02:14:43.953Z  INFO 1374542 --- [MatchFlexdb] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:matchflexdb user=SA
2025-03-27T02:14:43.955Z  INFO 1374542 --- [MatchFlexdb] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-27T02:14:44.932Z  INFO 1374542 --- [MatchFlexdb] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-27T02:14:45.398Z  INFO 1374542 --- [MatchFlexdb] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-27T02:14:45.931Z  INFO 1374542 --- [MatchFlexdb] [main] com.matchflex.config.MqttConfig          : Tentative de connexion au broker MQTT avec client ID: springBootClientTest-1960643b-df62-4ce2-9ef9-8f6b04153007
2025-03-27T02:14:46.002Z  WARN 1374542 --- [MatchFlexdb] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-27T02:14:46.024Z  WARN 1374542 --- [MatchFlexdb] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 20bbc8d8-4b6c-458e-bb7f-15e1881ff2e3

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-27T02:14:46.030Z  INFO 1374542 --- [MatchFlexdb] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-03-27T02:14:46.180Z DEBUG 1374542 --- [MatchFlexdb] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 63 mappings in 'requestMappingHandlerMapping'
2025-03-27T02:14:46.293Z DEBUG 1374542 --- [MatchFlexdb] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-03-27T02:14:46.496Z DEBUG 1374542 --- [MatchFlexdb] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-27T02:14:46.552Z DEBUG 1374542 --- [MatchFlexdb] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-27T02:14:46.584Z  INFO 1374542 --- [MatchFlexdb] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:matchflexdb'
2025-03-27T02:14:46.705Z  INFO 1374542 --- [MatchFlexdb] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-03-27T02:14:46.705Z  INFO 1374542 --- [MatchFlexdb] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'MatchFlexdb.errorChannel' has 1 subscriber(s).
2025-03-27T02:14:46.705Z  INFO 1374542 --- [MatchFlexdb] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-03-27T02:14:46.706Z  INFO 1374542 --- [MatchFlexdb] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:handler.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-03-27T02:14:46.706Z  INFO 1374542 --- [MatchFlexdb] [main] o.s.integration.channel.DirectChannel    : Channel 'MatchFlexdb.mqttInputChannel' has 1 subscriber(s).
2025-03-27T02:14:46.706Z  INFO 1374542 --- [MatchFlexdb] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'handler.serviceActivator'
2025-03-27T02:14:46.725Z  INFO 1374542 --- [MatchFlexdb] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/matchflex/config/MqttConfig.class]'; from source: 'com.matchflex.config.MqttConfig.inbound()'
2025-03-27T02:14:46.732Z  INFO 1374542 --- [MatchFlexdb] [main] c.matchflex.SmartBandApplicationTests    : Started SmartBandApplicationTests in 4.887 seconds (process running for 5.808)
2025-03-27T02:14:47.151Z DEBUG 1374542 --- [MatchFlexdb] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3c8bdd5b, started on Thu Mar 27 02:14:42 WET 2025
2025-03-27T02:14:47.154Z ERROR 1374542 --- [MatchFlexdb] [SpringApplicationShutdownHook] .m.i.MqttPahoMessageDrivenChannelAdapter : Exception while unsubscribing

org.eclipse.paho.client.mqttv3.MqttException: Client is not connected
	at org.eclipse.paho.client.mqttv3.internal.ExceptionHelper.createMqttException(ExceptionHelper.java:31) ~[org.eclipse.paho.client.mqttv3-1.2.5.jar:na]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms.sendNoWait(ClientComms.java:205) ~[org.eclipse.paho.client.mqttv3-1.2.5.jar:na]
	at org.eclipse.paho.client.mqttv3.MqttAsyncClient.unsubscribe(MqttAsyncClient.java:1244) ~[org.eclipse.paho.client.mqttv3-1.2.5.jar:na]
	at org.eclipse.paho.client.mqttv3.MqttAsyncClient.unsubscribe(MqttAsyncClient.java:1195) ~[org.eclipse.paho.client.mqttv3-1.2.5.jar:na]
	at org.springframework.integration.mqtt.inbound.MqttPahoMessageDrivenChannelAdapter.doStop(MqttPahoMessageDrivenChannelAdapter.java:215) ~[spring-integration-mqtt-6.4.1.jar:6.4.1]
	at org.springframework.integration.endpoint.AbstractEndpoint.doStop(AbstractEndpoint.java:211) ~[spring-integration-core-6.4.1.jar:6.4.1]
	at org.springframework.integration.endpoint.AbstractEndpoint.stop(AbstractEndpoint.java:192) ~[spring-integration-core-6.4.1.jar:6.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:384) ~[spring-context-6.2.1.jar:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop(DefaultLifecycleProcessor.java:526) ~[spring-context-6.2.1.jar:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:353) ~[spring-context-6.2.1.jar:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:253) ~[spring-context-6.2.1.jar:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1172) ~[spring-context-6.2.1.jar:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1126) ~[spring-context-6.2.1.jar:6.2.1]
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147) ~[spring-boot-3.4.1.jar:3.4.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116) ~[spring-boot-3.4.1.jar:3.4.1]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

